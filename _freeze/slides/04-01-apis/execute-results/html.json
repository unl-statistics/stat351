{
  "hash": "1a48482b13ab38d243c3109127320dfa",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"APIs\"\nformat: \n    revealjs:\n        navigation-mode: vertical\n        logo: deps/unl/N.svg\n        theme: deps/unl/inverse.scss\n        css: deps/unl/styles.css\n        includes:\n          in_header: deps/unl/header.html\n        lib_dir: libs\n---\n\n\n\n\n## URL Anatomy {.scrollable .smaller}\n\n$$\\underbrace{\\text{https}}_{scheme}\\text{://}\\underbrace{\\text{archive.org}}_{endpoint}/\\underbrace{\\text{wayback/available}}_{path}?\\underbrace{\\text{url=nyt.com}}_{query}$$\n\n$$\\underbrace{\\text{https}}_{scheme}\\text{://}\\underbrace{\\text{srvanderplas.github.io}}_{endpoint}\\text{/}\\underbrace{\\text{stat-computing-r-python/part-advanced-topics/05-APIs.html}}_{path}\\underbrace{\\text{#http-response-codes}}_{fragment}$$\n\n\n## URL Anatomy {.scrollable .smaller}\n\n$$\\begin{align}\nscheme                                  &\\ \\ \\   \\text{https}\\text{://}\\\\\nendpoint                                &\\ \\ \\ \\text{www.google.com}\\\\\npath                                    &\\ \\ \\  \\text{/search} \\\\\nmy\\ actual\\ query                       &\\ \\ \\  \\text{?q=parts+of+a+url} \\\\\npossibly\\ experiment\\ version\\ info??   &\\ \\ \\  \\text{&sca_esv=d64738122a810e98} \\\\\ninitiated\\ via\\ homepage                &\\ \\ \\  \\text{&source=hp}\\\\\nengine\\ identifier\\ (meaning\\ unknown)  &\\ \\ \\  \\text{&ei=aKPQaLvEMrmw0...}\\\\\ninternal\\ link\\ tracking\\ info          &\\ \\ \\  \\text{&ved=0ahUKEwi7mLm...}\\\\\nmy\\ query\\ again?                       &\\ \\ \\  \\text{&oq=parts+of+a+url}\\\\\nGoogle\\ Web\\ Search\\ Wizard             &\\ \\ \\  \\text{&sclient=gws-wiz} \\end{align}$$\n<!-- \\text{&gs_lp=Egdnd3Mtd2l6Ig5wYXJ0cyBvZiBhIHVybDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDIFEAAYgAQyBRAAGIAEMgUQABiABDILEAAYgAQYhgMYigVIqxZQAFi-C3AAeACQAQCYAW-gAfcJqgEEMTEuM7gBA8gBAPgBAZgCDqACogrCAg4QLhiABBixAxjRAxjHAcICDhAuGIAEGLEDGIMBGIoFwgILEAAYgAQYsQMYgwHCAgsQLhiABBjRAxjHAcICERAuGIAEGLEDGNEDGIMBGMcBwgIOEAAYgAQYsQMYgwEYigXCAgsQLhiABBixAxiDAcICDhAuGIAEGMcBGI4FGK8BwgILEAAYgAQYsQMYyQPCAgsQABiABBiSAxiKBcICCxAuGIAEGMcBGK8BwgIOEC4YgAQYsQMYxwEYrwHCAhEQLhiABBixAxjRAxjHARiKBcICCBAAGIAEGJIDwgIIEAAYgAQYsQOYAwCSBwQxMS4zoAfzhQGyBwQxMS4zuAeiCsIHBTAuOC42yAcm} & base64\\ encoded\\ search\\ query\\ and\\ client\\ info??\\\\ -->\n\n[Guide to Google search parameters](https://serpapi.com/blog/google-search-parameters/#the-q-parameter)\n\n## APIs without Authentication {.scrollable .smaller}\n\n::: panel-tabset\n### R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(httr2)\nlibrary(dplyr)\nlibrary(jsonlite)\nurl <- \"https://openlibrary.org/search.json?q=the+lord+of+the+rings\"\n\nres <- request(url) |>\n  req_perform()\nres\n\ntmp <- res |> resp_body_string() |> fromJSON()\n# tmp[1:7]\ntmp$docs |> select(author_key, author_name, title) |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   author_key                      author_name\n1    OL26320A                   J.R.R. Tolkien\n2    OL26320A                   J.R.R. Tolkien\n3    OL26320A                   J.R.R. Tolkien\n4    OL26320A                   J.R.R. Tolkien\n5    OL26320A                   J.R.R. Tolkien\n6 OL10330532A The Lord Of The Rings Publishing\n                                         title\n1                        The Lord of the Rings\n2                   The Fellowship of the Ring\n3                               The Two Towers\n4                       The Return of the King\n5          Novels (Hobbit / Lord of the Rings)\n6 Official the lôrd of the Rîngs 2022 Calendar\n```\n\n\n:::\n:::\n\n\n\n### Python\n\n\n\n::: {.cell}\n\n```{.python .cell-code}\nimport requests\nimport pandas as pd\n\nurl = \"https://openlibrary.org/search.json?q=the+lord+of+the+rings\"\nreq = requests.get(url)\nres = req.json()\npd.DataFrame.from_dict(res['docs']).head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   author_key       author_name  ...                                title  subtitle\n0  [OL26320A]  [J.R.R. Tolkien]  ...                The Lord of the Rings       NaN\n1  [OL26320A]  [J.R.R. Tolkien]  ...           The Fellowship of the Ring       NaN\n2  [OL26320A]  [J.R.R. Tolkien]  ...                       The Two Towers       NaN\n3  [OL26320A]  [J.R.R. Tolkien]  ...               The Return of the King       NaN\n4  [OL26320A]  [J.R.R. Tolkien]  ...  Novels (Hobbit / Lord of the Rings)       NaN\n\n[5 rows x 17 columns]\n```\n\n\n:::\n:::\n\n\n\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}